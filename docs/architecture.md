# Nextjsフルスタックアーキテクチャ

## 概要

このプロジェクトは、クリーンアーキテクチャの考え方を基にし、Next.js の特有の要件（Server/Client 分離）を考慮したレイヤー設計を採用しています。
コードの依存関係を明確にし、テスタビリティと保守性を高めることを目的としています。

## 基本方針

このプロジェクトでは、名前空間の概念として捉えているため、フォルダ名は単数形で統一しています。

### ディレクトリ構造

```
public/                     # 静的ファイル
└── image/                  # 画像などの静的ファイル
src/
└── __test__/               # テスト用フォルダ
├── app/                    # Next.js App Routerのページとグローバル設定
├── component/
│   ├── functional/         # ビジネスロジックや副作用を内包する共通コンポーネント
│   └── functionless/       # ビジネスロジックや副作用を持たず、外部から受け取ったものをそのまま使うだけの共通コンポーネント
│   └── client-page/        # React Hooksやビジネスロジック、副作用をもつことのできるページ固有のコンポーネント
│        └── action.ts/     # client-pagesの操作を理解しているフォームアクションロジックを定義する。ドメインロジックではない。
├── constant/               # 定数定義
├── core/
│    └── service/          # 外部ライブラリの設定・カスタマイズ
├── domain/
│   ├── data/              # Entity定義
│   └── logic/
│       ├── ssr/           # SSR用ロジック（src/app配下で利用する。各画面の初期表示のための取得ロジック）
│       ├── action/        # SSR以外のNext.jsサーバーで行うべき、CRUDなどのロジック（client-pages/actions.tsで利用する。各画面の初期表示後のCRUDロジック）
│       └── util/          # 汎用ロジック用ロジック
└── util/                  # ユーティリティ関数
    └── hook/              # 汎用的なカスタムフック
```

## アーキテクチャ構成
